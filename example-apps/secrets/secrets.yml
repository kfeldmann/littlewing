# Fetch a secret from AWS Secrets Manager and
# print out the value. The secret is never
# written to disk.
#
# Populate the real value of the secret interactively
# so that the value is not stored in your code.

profile: my-aws-profile
region: my-region

var.appname: my-appname
var.environment: my-env

steps:
- aws.secretsmanager.create-secret.a:
  - --name
  - /~{var.appname}/~{var.environment}/secretname
  - --secret-string
  - ' '

- print: ~{asm./~{var.appname}/~{var.environment}/secretname}
